<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RICOH Dashboard</title>
    <link rel="stylesheet" href="styles.css">
    <script src="script.js" defer></script>
</head>
<body>
    <div class="container">        <!-- ヘッダー -->
        <header class="header">
            <h1>RICOH dashboard</h1>
            <!-- レイアウト切替アイコン -->
            <div class="layout-icons">
            <button class="icon-btn active" data-layout="tabs" title="タブ表示">
                <svg viewBox="0 0 24 24" width="24" height="24"><path fill="currentColor" d="M3,3H21V5H3V3M3,7H21V9H3V7M3,11H21V13H3V11M3,15H21V17H3V15M3,19H21V21H3V19Z"/></svg>
            </button>
            <button class="icon-btn" data-layout="grid-2" title="2カラム">
                <svg viewBox="0 0 24 24" width="24" height="24"><path fill="currentColor" d="M2,2H10V10H2V2M12,2H22V10H12V2M2,12H10V22H2V12M12,12H22V22H12V12Z"/></svg>
            </button>
            <button class="icon-btn" data-layout="grid-3" title="3カラム">
                <svg viewBox="0 0 24 24" width="24" height="24"><path fill="currentColor" d="M2,2H7V7H2V2M9,2H15V7H9V2M17,2H22V7H17V2M2,9H7V15H2V9M9,9H15V15H9V9M17,9H22V15H17V9M2,17H7V22H2V17M9,17H15V22H9V17M17,17H22V22H17V17Z"/></svg>
            </button>
            <button class="icon-btn" data-layout="stack" title="スタック">
                <svg viewBox="0 0 24 24" width="24" height="24"><path fill="currentColor" d="M4,6H20V8H4V6M4,10H20V12H4V10M4,14H20V16H4V14M4,18H20V20H4V18Z"/></svg>
            </button>
            <button class="icon-btn help-btn" title="ヘルプ">
                <svg viewBox="0 0 24 24" width="24" height="24">
                <circle cx="12" cy="12" r="10" fill="none" stroke="#888" stroke-width="2"/>
                <text x="12" y="17" text-anchor="middle" font-size="14" font-family="Arial" fill="#888" font-weight="bold">?</text>
                </svg>
            </button>
            </div>
        </header>
        
        <div class="content-wrapper">
            <!-- サイドバー -->
            <nav class="sidebar">
                <ul>
                    <li class="active" data-page="dashboard">Dashboard</li>
                </ul>
            </nav>
            
            <!-- メインコンテンツ -->
            <main class="main-content">                <div id="dashboard-page" class="page active">                    <!-- コントロール -->                    <div class="layout-controls">
                        <div class="plant-selector">
                            <select id="plant-selector">
                                <option value="plant-a">横浜工場Aプラント</option>
                                <option value="plant-b">横浜工場Bプラント</option>
                                <option value="plant-c">大阪工場Cプラント</option>
                            </select>
                        </div>
                    </div>

                    <!-- タブナビゲーション -->
                    <div class="tab-navigation">
                        <button class="tab-btn active" data-tab="flow-diagram">フロー図</button>
                        <button class="tab-btn" data-tab="sensor-list">リスト</button>
                        <button class="tab-btn" data-tab="3d-view">3Dビュー</button>
                    </div>

                    <!-- ダッシュボードコンテナ -->
                    <div class="dashboard-container tabs">
                        <!-- 排水管のフロー図 -->                        <div class="dashboard-tile tab-content active" id="flow-diagram">
                            <div class="tile-header">
                                <h2>排水管フロー図</h2>
                                <div class="tile-controls">
                                    <span class="tile-control">⋮</span>
                                </div>
                            </div>
                            <div class="view-controls">
                                <span class="view-control" title="ズームアウト">-</span>
                                <span class="zoom-level">100%</span>
                                <span class="view-control" title="ズームイン">+</span>
                            </div>
                            <div class="tile-content">                                <div class="flow-diagram-container">
                                    <!-- 詳細な工場配管図の表現 -->
                                    <svg class="flow-diagram-background" width="1200" height="800" viewBox="0 0 1200 800">
                                        <!-- 配管図の背景 - グレーベース -->
                                        <rect x="0" y="0" width="1200" height="800" fill="#f8f8f8" />
                                        
                                        <!-- 配管ライン -->
                                        <path d="M50,150 L350,150 L350,300 L550,300 L550,150 L850,150" stroke="#999" stroke-width="3" fill="none" />
                                        <path d="M350,150 L350,400 L750,400" stroke="#999" stroke-width="3" fill="none" />
                                        <path d="M550,300 L550,500 L250,500 L250,600" stroke="#999" stroke-width="3" fill="none" />
                                        <path d="M750,400 L850,400 L850,600" stroke="#999" stroke-width="3" fill="none" />
                                        <path d="M150,400 L350,400" stroke="#999" stroke-width="3" fill="none" />
                                        <path d="M550,500 L650,500 L650,600" stroke="#999" stroke-width="3" fill="none" />
                                        
                                        <!-- タンクや設備 -->
                                        <circle cx="150" cy="400" r="30" stroke="#777" stroke-width="2" fill="#eee" />
                                        <circle cx="250" cy="600" r="40" stroke="#777" stroke-width="2" fill="#eee" />
                                        <circle cx="650" cy="600" r="30" stroke="#777" stroke-width="2" fill="#eee" />
                                        <circle cx="850" cy="600" r="35" stroke="#777" stroke-width="2" fill="#eee" />
                                        
                                        <!-- フィルター装置 -->
                                        <rect x="300" y="370" width="100" height="60" stroke="#777" stroke-width="2" fill="#eee" />
                                        <rect x="700" y="370" width="100" height="60" stroke="#777" stroke-width="2" fill="#eee" />
                                        
                                        <!-- ラベルテキスト -->
                                        <text x="150" y="380" font-size="10" text-anchor="middle">貯水槽</text>
                                        <text x="250" y="580" font-size="10" text-anchor="middle">処理槽</text>
                                        <text x="350" y="360" font-size="10" text-anchor="middle">フィルター</text>
                                        <text x="750" y="360" font-size="10" text-anchor="middle">フィルター</text>
                                        <text x="650" y="580" font-size="10" text-anchor="middle">測定器</text>
                                        <text x="850" y="580" font-size="10" text-anchor="middle">排出口</text>
                                        
                                        <!-- グリッドライン -->
                                        <pattern id="smallGrid" width="20" height="20" patternUnits="userSpaceOnUse">
                                            <path d="M 20 0 L 0 0 0 20" fill="none" stroke="#eee" stroke-width="0.5"/>
                                        </pattern>
                                        <rect width="1200" height="800" fill="url(#smallGrid)" />
                                    </svg>
                                      <!-- センサー付き排水管ボックス -->
                                    <div class="pipe-box" style="top: 100px; left: 50px;">
                                        <div class="pipe-title">原水入口 P-101</div>
                                        <div class="sensor-data-box">
                                            <div class="data-row"><span class="label">流量</span><span class="value normal">50</span></div>
                                            <div class="data-row"><span class="label">圧力</span><span class="value normal">50</span></div>
                                            <div class="data-row"><span class="label">水量</span><span class="value normal">50</span></div>
                                        </div>
                                    </div>
                                      <div class="pipe-box" style="top: 100px; left: 350px;">
                                        <div class="pipe-title">前処理系 F-201</div>
                                        <div class="sensor-data-box">
                                            <div class="data-row"><span class="label">流量</span><span class="value normal">50</span></div>
                                            <div class="data-row"><span class="label">圧力</span><span class="value normal">500</span></div>
                                            <div class="data-row"><span class="label">水量</span><span class="value normal">50</span></div>
                                        </div>
                                    </div>
                                      <div class="pipe-box" style="top: 100px; left: 650px;">
                                        <div class="pipe-title">処理タンク T-305</div>
                                        <div class="sensor-data-box">
                                            <div class="data-row"><span class="label">流量</span><span class="value normal">50</span></div>
                                            <div class="data-row"><span class="label">圧力</span><span class="value normal">50</span></div>
                                            <div class="data-row"><span class="label">水量</span><span class="value normal">50</span></div>
                                        </div>
                                    </div>
                                      <div class="pipe-box" style="top: 100px; left: 850px;">
                                        <div class="pipe-title">沈殿槽 S-401</div>
                                        <div class="sensor-data-box">
                                            <div class="data-row"><span class="label">流量</span><span class="value normal">50</span></div>
                                            <div class="data-row"><span class="label">圧力</span><span class="value normal">50</span></div>
                                            <div class="data-row"><span class="label">水量</span><span class="value normal">50</span></div>
                                        </div>
                                    </div>
                                      <div class="pipe-box warning" style="top: 250px; left: 350px;">
                                        <div class="pipe-title">フィルター F-102</div>
                                        <div class="sensor-data-box">
                                            <div class="data-row"><span class="label">流量</span><span class="value normal">50</span></div>
                                            <div class="data-row"><span class="label">圧力</span><span class="value normal">500</span></div>
                                            <div class="data-row"><span class="label">水量</span><span class="value normal">50</span></div>
                                        </div>
                                    </div>                                      <div class="pipe-box warning" style="top: 250px; left: 550px;">
                                        <div class="pipe-title">中間槽 P-203</div>
                                        <div class="sensor-data-box">
                                            <div class="data-row"><span class="label">流量</span><span class="value warning">800</span></div>
                                            <div class="data-row"><span class="label">圧力</span><span class="value normal">50</span></div>
                                            <div class="data-row"><span class="label">水量</span><span class="value warning">800</span></div>
                                        </div>
                                    </div>
                                      <div class="pipe-box" style="top: 250px; left: 750px;">
                                        <div class="pipe-title">循環ポンプ C-204</div>
                                        <div class="sensor-data-box">
                                            <div class="data-row"><span class="label">流量</span><span class="value normal">50</span></div>
                                            <div class="data-row"><span class="label">圧力</span><span class="value normal">50</span></div>
                                            <div class="data-row"><span class="label">水量</span><span class="value normal">50</span></div>
                                        </div>
                                    </div>
                                      <div class="pipe-box" style="top: 400px; left: 150px;">
                                        <div class="pipe-title">貯水槽 D-501</div>
                                        <div class="sensor-data-box">
                                            <div class="data-row"><span class="label">流量</span><span class="value normal">50</span></div>
                                            <div class="data-row"><span class="label">圧力</span><span class="value normal">50</span></div>
                                            <div class="data-row"><span class="label">水量</span><span class="value normal">50</span></div>
                                        </div>
                                    </div>                                      <div class="pipe-box" style="top: 400px; left: 500px;">
                                        <div class="pipe-title">返送ポンプ P-502</div>
                                        <div class="sensor-data-box">
                                            <div class="data-row"><span class="label">流量</span><span class="value normal">50</span></div>
                                            <div class="data-row"><span class="label">圧力</span><span class="value normal">50</span></div>
                                            <div class="data-row"><span class="label">水量</span><span class="value normal">50</span></div>
                                        </div>
                                    </div>
                                      <div class="pipe-box alert" style="top: 350px; left: 850px;">
                                        <div class="pipe-title">排出制御 C-601</div>
                                        <div class="sensor-data-box">
                                            <div class="data-row"><span class="label">流量</span><span class="value high">1000</span></div>
                                            <div class="data-row"><span class="label">圧力</span><span class="value normal">500</span></div>
                                            <div class="data-row"><span class="label">水量</span><span class="value high">1000</span></div>
                                        </div>
                                    </div>
                                      <!-- アラート状態のセンサーボックス追加 -->
                                    <div class="pipe-box alert" style="top: 450px; left: 650px;">
                                        <div class="pipe-title">最終放流 V-801</div>
                                        <div class="sensor-data-box">
                                            <div class="data-row"><span class="label">流量</span><span class="value high">1000</span></div>
                                            <div class="data-row"><span class="label">圧力</span><span class="value high">600</span></div>
                                            <div class="data-row"><span class="label">水量</span><span class="value high">1000</span></div>
                                        </div>
                                    </div>

                                </div>
                            </div>
                        </div>
                          <!-- センサーリスト -->
                        <div class="dashboard-tile tab-content" id="sensor-list">
                            <div class="tile-header">
                                <h2>センサーリスト</h2>
                                <div class="tile-controls">
                                    <span class="tile-control">⋮</span>
                                </div>
                            </div>
                            <div class="tile-content">
                                <table>
                                    <thead>
                                        <tr>
                                            <th>ID</th>
                                            <th>場所</th>
                                            <th>値</th>
                                            <th>状態</th>
                                        </tr>
                                    </thead>
                                    <tbody>                                        <tr>
                                            <td>P-101</td>
                                            <td>原水入口</td>
                                            <td>50</td>
                                            <td><span class="status normal">正常</span></td>
                                        </tr>
                                        <tr>
                                            <td>F-201</td>
                                            <td>前処理系</td>
                                            <td>500</td>
                                            <td><span class="status normal">正常</span></td>
                                        </tr>
                                        <tr>
                                            <td>T-305</td>
                                            <td>処理タンク</td>
                                            <td>50</td>
                                            <td><span class="status normal">正常</span></td>
                                        </tr>
                                        <tr>
                                            <td>F-102</td>
                                            <td>フィルター</td>
                                            <td>500</td>
                                            <td><span class="status warning">警告</span></td>
                                        </tr>
                                        <tr>
                                            <td>P-203</td>
                                            <td>中間槽</td>
                                            <td>800</td>
                                            <td><span class="status warning">警告</span></td>
                                        </tr>
                                        <tr>
                                            <td>C-601</td>
                                            <td>排出制御</td>
                                            <td>1000</td>
                                            <td><span class="status alert">異常</span></td>
                                        </tr>
                                        <tr>
                                            <td>V-801</td>
                                            <td>最終放流</td>
                                            <td>1000</td>
                                            <td><span class="status alert">異常</span></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                          <!-- 3Dビュー -->
                        <div class="dashboard-tile tab-content" id="3d-view">
                            <div class="tile-header">
                                <h2>3Dビュー</h2>
                                <div class="tile-controls">
                                    <span class="tile-control">⋮</span>
                                </div>
                            </div>
                            <div class="tile-content">                                <div class="placeholder-3d">
                                    <div class="placeholder-img">
                                        <!-- 3D配管のSVG表現 -->
                                        <svg width="100%" height="100%" viewBox="0 0 800 600" xmlns="http://www.w3.org/2000/svg">
                                            <!-- 背景グラデーション -->
                                            <defs>
                                                <linearGradient id="bg-gradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                                    <stop offset="0%" stop-color="#f5f5f5" />
                                                    <stop offset="100%" stop-color="#e0e0e0" />
                                                </linearGradient>
                                                
                                                <!-- パイプのグラデーション -->
                                                <linearGradient id="pipe-gradient-blue" x1="0%" y1="0%" x2="0%" y2="100%">
                                                    <stop offset="0%" stop-color="#8cc3ff" />
                                                    <stop offset="50%" stop-color="#0066cc" />
                                                    <stop offset="100%" stop-color="#004080" />
                                                </linearGradient>
                                                
                                                <linearGradient id="pipe-gradient-red" x1="0%" y1="0%" x2="0%" y2="100%">
                                                    <stop offset="0%" stop-color="#ffb3b3" />
                                                    <stop offset="50%" stop-color="#ff6666" />
                                                    <stop offset="100%" stop-color="#cc0000" />
                                                </linearGradient>
                                                
                                                <!-- 円柱風3D表現のためのフィルター -->
                                                <filter id="pipe-shadow" x="-20%" y="-20%" width="140%" height="140%">
                                                    <feGaussianBlur in="SourceAlpha" stdDeviation="5" result="blur" />
                                                    <feOffset in="blur" dx="5" dy="5" result="offsetBlur" />
                                                    <feComposite in="SourceGraphic" in2="offsetBlur" operator="over" />
                                                </filter>
                                            </defs>

                                            <!-- 背景 -->
                                            <rect width="100%" height="100%" fill="url(#bg-gradient)" />
                                            
                                            <!-- グリッド -->
                                            <pattern id="grid3d" width="50" height="50" patternUnits="userSpaceOnUse">
                                                <path d="M 50 0 L 0 0 0 50" fill="none" stroke="#ccc" stroke-width="0.5" />
                                            </pattern>
                                            <rect width="100%" height="100%" fill="url(#grid3d)" fill-opacity="0.5" />
                                            
                                            <!-- 3D空間の床 -->
                                            <polygon points="100,500 700,500 600,400 200,400" fill="#ddd" stroke="#aaa" stroke-width="1" />
                                            
                                            <!-- 主要な排水管システム - 青いパイプ -->
                                            <!-- 水平パイプ（手前） -->
                                            <rect x="200" y="350" width="400" height="40" rx="20" ry="20" fill="url(#pipe-gradient-blue)" filter="url(#pipe-shadow)" />
                                            
                                            <!-- 垂直パイプ（左） -->
                                            <rect x="200" y="150" width="40" height="200" rx="20" ry="20" fill="url(#pipe-gradient-blue)" filter="url(#pipe-shadow)" />
                                            
                                            <!-- 垂直パイプ（右） -->
                                            <rect x="560" y="150" width="40" height="200" rx="20" ry="20" fill="url(#pipe-gradient-blue)" filter="url(#pipe-shadow)" />
                                            
                                            <!-- 水平パイプ（奥） -->
                                            <rect x="200" y="130" width="400" height="40" rx="20" ry="20" fill="url(#pipe-gradient-blue)" filter="url(#pipe-shadow)" />
                                            
                                            <!-- 異常発生中の排水管 - 赤いパイプ -->
                                            <rect x="300" y="250" width="200" height="40" rx="20" ry="20" fill="url(#pipe-gradient-red)" filter="url(#pipe-shadow)" />
                                            
                                            <!-- 垂直パイプ（中央） -->
                                            <rect x="380" y="250" width="40" height="100" rx="20" ry="20" fill="url(#pipe-gradient-red)" filter="url(#pipe-shadow)" />
                                            
                                            <!-- 接続ポイント -->
                                            <circle cx="220" cy="150" r="25" fill="#555" stroke="#333" stroke-width="2" />
                                            <circle cx="220" cy="350" r="25" fill="#555" stroke="#333" stroke-width="2" />
                                            <circle cx="580" cy="150" r="25" fill="#555" stroke="#333" stroke-width="2" />
                                            <circle cx="580" cy="350" r="25" fill="#555" stroke="#333" stroke-width="2" />
                                            
                                            <!-- センサー位置 -->
                                            <circle cx="400" cy="150" r="15" fill="#ffcc00" stroke="#cc9900" stroke-width="2">
                                                <animate attributeName="fill-opacity" values="1;0.6;1" dur="2s" repeatCount="indefinite" />
                                            </circle>
                                            <circle cx="400" cy="350" r="15" fill="#ffcc00" stroke="#cc9900" stroke-width="2">
                                                <animate attributeName="fill-opacity" values="1;0.6;1" dur="2s" repeatCount="indefinite" />
                                            </circle>
                                            <circle cx="400" cy="270" r="15" fill="#ff3333" stroke="#cc0000" stroke-width="2">
                                                <animate attributeName="fill-opacity" values="1;0.6;1" dur="0.5s" repeatCount="indefinite" />
                                            </circle>
                                            
                                            <!-- バルブ -->
                                            <rect x="300" y="340" width="30" height="60" rx="5" ry="5" fill="#666" stroke="#333" stroke-width="1" transform="rotate(-45,315,370)" />
                                            <circle cx="315" cy="370" r="15" fill="#999" stroke="#666" stroke-width="1" />
                                            
                                            <rect x="500" y="340" width="30" height="60" rx="5" ry="5" fill="#666" stroke="#333" stroke-width="1" transform="rotate(45,515,370)" />
                                            <circle cx="515" cy="370" r="15" fill="#999" stroke="#666" stroke-width="1" />
                                            
                                            <!-- 流れの方向を示す矢印 -->
                                            <defs>
                                                <marker id="arrow3d" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
                                                    <path d="M0,0 L0,6 L9,3 z" fill="#333" />
                                                </marker>
                                            </defs>
                                            
                                            <line x1="300" y1="150" x2="350" y2="150" stroke="#333" stroke-width="2" marker-end="url(#arrow3d)" />
                                            <line x1="450" y1="350" x2="500" y2="350" stroke="#333" stroke-width="2" marker-end="url(#arrow3d)" />
                                            
                                            <!-- 異常警告マーク -->
                                            <g transform="translate(380, 270)">
                                                <polygon points="0,-30 26,15 -26,15" fill="#ff0000" fill-opacity="0.7" stroke="#cc0000" stroke-width="2">
                                                    <animate attributeName="fill-opacity" values="0.7;0.3;0.7" dur="1s" repeatCount="indefinite" />
                                                </polygon>
                                                <text x="0" y="5" font-family="Arial" font-size="20" font-weight="bold" text-anchor="middle" fill="white">!</text>
                                            </g>
                                              <!-- データ表示 -->
                                            <rect x="600" y="150" width="140" height="80" rx="5" ry="5" fill="rgba(240, 247, 255, 0.95)" stroke="#0066cc" stroke-width="1" />
                                            <text x="610" y="170" font-family="Arial" font-size="12" fill="#0066cc" font-weight="bold">処理タンク T-305</text>
                                            <text x="610" y="190" font-family="Arial" font-size="12">流量: 50 L/min</text>
                                            <text x="610" y="210" font-family="Arial" font-size="12">圧力: 50 MPa</text>
                                            
                                            <rect x="600" y="350" width="140" height="80" rx="5" ry="5" fill="rgba(255, 248, 225, 0.95)" stroke="#ffb300" stroke-width="1" />
                                            <text x="610" y="370" font-family="Arial" font-size="12" fill="#ff8f00" font-weight="bold">中間槽 P-203</text>
                                            <text x="610" y="390" font-family="Arial" font-size="12">流量: 800 L/min</text>
                                            <text x="610" y="410" font-family="Arial" font-size="12">圧力: 50 MPa</text>
                                            
                                            <!-- 異常警告データ表示 -->
                                            <rect x="450" y="250" width="140" height="80" rx="5" ry="5" fill="rgba(255, 235, 238, 0.95)" stroke="#cc0000" stroke-width="2" />
                                            <text x="460" y="270" font-family="Arial" font-size="12" fill="#cc0000" font-weight="bold">最終放流 V-801</text>
                                            <text x="460" y="290" font-family="Arial" font-size="12" fill="#cc0000" font-weight="bold">流量: 1000 L/min</text>
                                            <text x="460" y="310" font-family="Arial" font-size="12" fill="#cc0000" font-weight="bold">圧力: 600 MPa</text>
                                        </svg>
                                    </div>                                    <div class="sensor-info" id="sensor-info-3d">
                                        <h3>最終放流 V-801</h3>
                                        <div class="sensor-data">
                                            <div class="data-row flow">
                                                <span class="label">流量</span>
                                                <span class="value high">1000</span>
                                            </div>
                                            <div class="data-row pressure">
                                                <span class="label">圧力</span>
                                                <span class="value high">600</span>
                                            </div>
                                            <div class="data-row water">
                                                <span class="label">水量</span>
                                                <span class="value high">1000</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>
</body>
</html>
